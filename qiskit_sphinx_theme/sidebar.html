<div class="sidebar">
    <div class="pytorch-left-menu-search">
        {% include "searchbox.html" %}
    </div>
    <!-- if sidebar_headings var set, use custom sidebar layout -->
    {% if sidebar_headings %} 
        {% for h in sidebar_headings %}
            {% if h.subheadings %}
                <div class="sidebar-l1-expandable">{{h.title}}</div>
                <div class="sidebar-subheadings">
                    {% for sub in h.subheadings %}
                        {% if sub.url.startswith('http')%}
                            <div class="sidebar-l2"><a href="{{sub.url}}">{{sub.title}}</a></div>
                        {% else %}
                            <div class="sidebar-l2"><a href="{{ pathto(sub.url)}}">{{sub.title}}</a></div>
                        {% endif %}
                    {% endfor %}
                </div>
            {% else %}
                {% if h.url.startswith('http')%}
                    <div class="sidebar-l1"><a href="{{ h.url }}">{{h.title}}</a></div>
                {% else %}
                    <div class="sidebar-l1"><a href="{{ pathto(h.url) }}">{{h.title}}</a></div>
                {% endif %}
            {% endif %}
        {% endfor%}
    <!-- If custum sidebar_headings not set, generate sidebar from the toctree -->
    {% else %}
        {% set global_toc = toctree(
            collapse=theme_collapse_navigation|tobool,
            includehidden=theme_includehidden|tobool) %}
        {% if global_toc %}
            {{ global_toc }}
        {% endif %}
    {% endif %}

    <!-- GITHUB LINK -->
    <div class="sidebar-l1"><a href="{{ github }}">GitHub</a></div>

    <!-- PREVIOUS RELEASES -->
    <div>
        {% if version_list %}
            <div class="sidebar-l1-expandable">Previous Releases</div>
            <div class="sidebar-subheadings">
                {% for version in version_list | sort(reverse=True) %}
                <div class="sidebar-l2"><a href="/documentation/stable/{{ version }}/index.html">{{ version }}</a></div>
                {% endfor %}
            </div>
        {% endif %}
    </div>

  </div>

<script>
    var coll = document.getElementsByClassName("sidebar-l1-expandable");
    var i;

    for (i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
        this.classList.toggle("current");
        var subheadings = this.nextElementSibling;
        if (subheadings.style.display === "block") {
        subheadings.style.display = "none";
        } else {
        subheadings.style.display = "block";
        }
    });
    }
</script>