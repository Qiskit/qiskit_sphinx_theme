{#-
  This code is a Qiskit project.

  (C) Copyright IBM 2023.

  This code is licensed under the Apache License, Version 2.0. You may
  obtain a copy of this license in the LICENSE.txt file in the root directory
  of this source tree or at http://www.apache.org/licenses/LICENSE-2.0.

  Any modifications or derivative works of this code must retain this
  copyright notice, and modified files need to carry a notice indicating
  that they have been altered from the originals.
-#}

{% if translations_list %}
{#- The HTML and CSS structure is inspired by Furo's left sidebar's table of contents for a
 top-level page with subpages. It has a similar setup to us: a text label and chevron icon to
 indicate the section is expandable.

 We use custom class names for clarity and because this isn't an identical replica. The CSS rules
 explain in comments how the Furo classes map to our classes.
-#}
<div class="qiskit-translations-container" aria-label="languages">
  <input id="translations-checkbox" name="translations-checkbox" role="switch" type="checkbox">
  <div class="qiskit-translations-header-container">
    {#- Using a label for the whole div means the user can click anywhere in it to toggle the checkbox. -#}
    <label for="translations-checkbox">
      <p role="note">{{ language_label }}</p>
      <div class="qiskit-translations-toggle-container">
        <div class="visually-hidden">Toggle translations list</div>
        <i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i>
      </div>
    </label>
  </div>
  <div class="qiskit-translations-list-container">
    <ul>
      {% for lang_code, language in translations_list %}
        <li><a href="{{ translation_url(lang_code, pagename) }}">{{ language }}</a></li>
      {% endfor %}
    </ul>
  </div>
  <script>
    document.querySelectorAll('.version').forEach((element) => {
      element.addEventListener('click', (evt) => {
        const hash = window.location.hash;
        const complete_url = evt.target.href + hash;
        window.location = complete_url;
        evt.preventDefault();
      });
    });
  </script>
</div>
{% endif %}
